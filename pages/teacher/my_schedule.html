<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Schedule</title>

    <!-- Tailwind CSS-->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />

    <!-- BS + BS Icons -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
      rel="stylesheet"
    />
  </head>

  <body class="bg-[#F9FAFB] min-h-screen p-4">
    <div class="max-w-[1600px] mx-auto flex flex-col md:flex-row gap-10">
      <!-- KOTAKAN UTAMA SMUA -->
      <!-- Sidebar Start -->
      <nav
        class="bg-[#1F2A44] rounded-xl w-full md:w-60 flex flex-col justify-between p-6 text-[#a3c0d9] h-[calc(100vh-3rem)]"
      >
        <!-- Nav Atas Start-->
        <!-- LOGO -->
        <div>
          <a
            id="brandTitle"
            class="text-white d-block font-extrabold text-lg mb-4 mt-2 text-center"
            href="">
            <span>EverGreen</span>
          </a>

          <hr class="border-[#ffffff] mb-5" />

          <nav class="flex flex-col gap-5 text-sm">
            <a
              class="flex items-center gap-3 text-[#ffffff] hover:text-[#9FD3C7] transition-colors"
              href="/dashboard/teacher">
              <i class="bi bi-grid-1x2"></i>
              <span class="title">Dashboard</span>
            </a>

            <a class="flex items-center gap-3 text-[#9FD3C7]" href="">
              <i class="bi bi-calendar3"></i>
              <span class="title">Schedules</span>
            </a>

            <a
              class="flex items-center gap-3 text-[#ffffff] hover:text-[#9FD3C7] transition-colors"
              href="/teacher/students">
              <i class="bi bi-people"></i>
              <span class="title">Students</span>
            </a>

            <a
              class="flex items-center gap-3 text-[#ffffff] hover:text-[#9FD3C7] transition-colors"
              href="/topicTeacher">
              <i class="bi bi-question-circle"></i>
              <span class="title">Quizzes</span>
            </a>

            <a
              class="flex items-center gap-3 text-[#ffffff] hover:text-[#9FD3C7] transition-colors"
              href="/payment">
              <i class="bi bi-credit-card-2-back"></i>
              <span class="title">Payment History</span>
            </a>
          </nav>
        </div>
        <!-- Nav Atas End-->

        <div>
          <!-- Nav Bawah Start-->
          <hr class="border-[#ffffff] mb-6" />
          <nav class="flex flex-col gap-5 text-sm font-semibold text-[#a3c0d9]">
            <a
              class="flex items-center gap-3 text-[#ffffff] hover:text-[#9FD3C7] transition-colors"
              href="#"><i class="bi bi-person-circle"></i><span class="title">Profile</span></a>

            <a
              class="flex items-center gap-3 text-[#ffffff] hover:text-[#9FD3C7] transition-colors"
              href="#" id="logoutTrigger"><i class="bi bi-box-arrow-right"></i><span class="title">Log out</span></a>
          </nav>
        </div>
        <!-- Nav bawah End-->
      </nav>
      <!-- Sidebar End -->

      <!-- Main Content Start -->
      <main class="flex-1 flex flex-col gap-6 pt-8 pr-7">
        <!-- Main Judul -->
        <section>
          <h2 class="text-3xl font-extrabold text-[#111827] mb-1">Schedules</h2>
          <p class="text-sm text-[#6b7280]">
            Create and manage your schedules and students.
          </p>
        </section>

        <!-- Navigasi All Schedule & My Schedule -->
        <nav class="flex space-x-6 border-b border-gray-300 select-none">
          <a
            class="text-[#7D7B7B] font-normal pb-1 text-md"
            href="/all_schedule"
            >All schedule</a
          >
          <a
            aria-current="page"
            class="text-[#67998D] font-semibold border-b-2 border-[#67998D] pb-1 text-md"
          
            >My schedule</a
          >
        </nav>

        <!-- My Schedule & Edit Button -->
        <div class="flex justify-between items-start w-full">
          <div>
            <p class="font-semibold text-black text-lg select-none">My Schedule</p>
            <p class="text-sm text-[#6b7280]">See your teaching schedule with your assigned sessions.</p>
          </div>

          <!-- Button Action -->
          <div class="flex justify-between items-center gap-3">
            <a id="add-Btn">
              <button class="whitespace-nowrap text-[#FFFFFF] px-3 py-2 text-center bg-[#1F2A44] rounded-lg font-medium hover:bg-[#CED6ED] hover:text-[#000000] transition transition-all duration-300">
                <i class="bi bi-plus-lg mr-2"></i>Add Schedule
              </button>
            </a>

            <button id="edit-Btn" class="whitespace-nowrap text-[#000000] px-3 py-2 text-center bg-[#FFF7D4] rounded-lg font-medium hover:bg-[#E6D99F] transition transition-all duration-300">
              <i class="bi bi-pencil-square mr-2"></i>Edit Schedule
            </button>

            <a id="delete-Btn">
              <button class="whitespace-nowrap text-[#000000] px-3 py-2 text-center bg-[#FFE4E6] rounded-lg font-medium hover:bg-[#E2B0B5] transition transition-all duration-300">
                <i class="bi bi-trash3-fill mr-2"></i>Delete Schedule</button>
            </a>
          </div>
          <!-- Button Action End -->

          <!-- Pop Up Add Schedule -->
          <!-- Add Schedule Modal -->
          <div id="add-Modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20">
            <div class="bg-white p-8 rounded-2xl shadow-md text-center max-w-md w-full">
              <h2 class="text-2xl mb-4 font-bold">Add Your Schedule</h2>

              <!-- Dropdown Day -->
              <div class="relative w-full mb-4">
                <p class="mb-1 text-left">Day</p>
                <button id="dropdownButtonDay" type="button" class="inline-flex justify-between w-full rounded-md border border-gray-300 bg-white p-2 text-md text-black hover:bg-gray-50">
                  <span id="selectedDay">Select a day</span>
                  <i class="bi bi-chevron-down font-bold ml-2"></i>
                </button>

                <div id="dropdownMenuDay" class="hidden absolute z-10 mt-2 w-full rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 text-left">
                  <div class="py-1 text-sm text-gray-700">
                    <div class="px-4 py-2 hover:bg-blue-100 cursor-pointer" data-value="Sunday">Sunday</div>
                    <div class="px-4 py-2 hover:bg-blue-100 cursor-pointer" data-value="Monday">Monday</div>
                    <div class="px-4 py-2 hover:bg-blue-100 cursor-pointer" data-value="Tuesday">Tuesday</div>
                    <div class="px-4 py-2 hover:bg-blue-100 cursor-pointer" data-value="Wednesday">Wednesday</div>
                    <div class="px-4 py-2 hover:bg-blue-100 cursor-pointer" data-value="Thursday">Thursday</div>
                    <div class="px-4 py-2 hover:bg-blue-100 cursor-pointer" data-value="Friday">Friday</div>
                    <div class="px-4 py-2 hover:bg-blue-100 cursor-pointer" data-value="Saturday">Saturday</div>
                  </div>
                </div>
              </div>

              <!-- Dropdown Time -->
              <div class="relative w-full mb-4">
                <p class="mb-1 text-left">Time</p>
                <button id="dropdownButtonTime" type="button" class="inline-flex justify-between w-full rounded-md border border-gray-300 bg-white p-2 text-md text-black hover:bg-gray-50">
                  <span id="selectedTime">Select a time</span>
                  <i class="bi bi-chevron-down font-bold ml-2"></i>
                </button>

                <div id="dropdownMenuTime" class="hidden absolute z-10 mt-2 w-full rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 text-left">
                  <div class="py-1 text-sm text-gray-700 max-h-64 overflow-y-auto">
                    <div class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer" data-value="08:00 - 09:00">08:00 - 09:00</div>
                    <div class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer" data-value="09:00 - 10:00">09:00 - 10:00</div>
                    <div class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer" data-value="10:00 - 11:00">10:00 - 11:00</div>
                    <div class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer" data-value="11:00 - 12:00">11:00 - 12:00</div>
                    <div class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer" data-value="12:00 - 13:00">12:00 - 13:00</div>
                    <div class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer" data-value="13:00 - 14:00">13:00 - 14:00</div>
                    <div class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer" data-value="14:00 - 15:00">14:00 - 15:00</div>
                    <div class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer" data-value="15:00 - 16:00">15:00 - 16:00</div>
                    <div class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer" data-value="16:00 - 17:00">16:00 - 17:00</div>
                    <div class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer" data-value="17:00 - 18:00">17:00 - 18:00</div>
                    <div class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer" data-value="18:00 - 19:00">18:00 - 19:00</div>
                    <div class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer" data-value="19:00 - 20:00">19:00 - 20:00</div>
                  </div>
                </div>
              </div>

              <!-- Action Buttons -->
              <div class="flex justify-center gap-4">
                <button id="cancel-btn" class="w-[180px] bg-[#FFFFFF] border-2 border-[#9FD3C7] px-4 py-2 rounded hover:bg-[#9FD3C7] transition">Cancel</button>
                <button id="save-btn"class="w-[180px] bg-[#9FD3C7] text-[#000000] px-4 py-2 rounded hover:bg-[#57998A] hover:text-white">Save</button>
              </div>
            </div>
          </div>
          <!-- Pop Up Add End -->

          <!-- Modal Edit Schedule Start -->
          <div id="editModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20">
            <div class="bg-white p-8 rounded-2xl shadow-md text-center max-w-md w-full">
              <h2 class="text-2xl mb-4 font-bold">Edit Your Schedule</h2>
              
              <!-- Dropdown Day -->
              <div class="relative w-full mb-4">
                <p class="mb-1 text-left">Day</p>
                <button id="editDropdownButtonDay" type="button" class="inline-flex justify-between w-full rounded-md border border-gray-300 bg-white p-2 text-md text-black hover:bg-gray-50">
                  <span id="editSelectedDay">Select a day</span>
                  <i class="bi bi-chevron-down font-bold ml-2"></i>
                </button>

                <div id="editDropdownMenuDay" class="hidden absolute z-10 mt-2 w-full rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 text-left">
                  <div class="py-1 text-sm text-gray-700">
                    <div class="px-4 py-2 hover:bg-blue-100 cursor-pointer" data-value="Sunday">Sunday</div>
                    <div class="px-4 py-2 hover:bg-blue-100 cursor-pointer" data-value="Monday">Monday</div>
                    <div class="px-4 py-2 hover:bg-blue-100 cursor-pointer" data-value="Tuesday">Tuesday</div>
                    <div class="px-4 py-2 hover:bg-blue-100 cursor-pointer" data-value="Wednesday">Wednesday</div>
                    <div class="px-4 py-2 hover:bg-blue-100 cursor-pointer" data-value="Thursday">Thursday</div>
                    <div class="px-4 py-2 hover:bg-blue-100 cursor-pointer" data-value="Friday">Friday</div>
                    <div class="px-4 py-2 hover:bg-blue-100 cursor-pointer" data-value="Saturday">Saturday</div>
                  </div>
                </div>
              </div>

              <!-- Dropdown Time -->
              <div class="relative w-full mb-4">
                <p class="mb-1 text-left">Time</p>
                <button id="editDropdownButtonTime" type="button" class="inline-flex justify-between w-full rounded-md border border-gray-300 bg-white p-2 text-md text-black hover:bg-gray-50">
                  <span id="editSelectedTime">Select a time</span>
                  <i class="bi bi-chevron-down font-bold ml-2"></i>
                </button>

                <div id="editDropdownMenuTime" class="hidden absolute z-10 mt-2 w-full rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 text-left">
                  <div class="py-1 text-sm text-gray-700 max-h-64 overflow-y-auto">
                    <div class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer" data-value="08:00 - 09:00">08:00 - 09:00</div>
                    <div class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer" data-value="09:00 - 10:00">09:00 - 10:00</div>
                    <div class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer" data-value="10:00 - 11:00">10:00 - 11:00</div>
                    <div class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer" data-value="11:00 - 12:00">11:00 - 12:00</div>
                    <div class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer" data-value="12:00 - 13:00">12:00 - 13:00</div>
                    <div class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer" data-value="13:00 - 14:00">13:00 - 14:00</div>
                    <div class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer" data-value="14:00 - 15:00">14:00 - 15:00</div>
                    <div class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer" data-value="15:00 - 16:00">15:00 - 16:00</div>
                    <div class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer" data-value="16:00 - 17:00">16:00 - 17:00</div>
                    <div class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer" data-value="17:00 - 18:00">17:00 - 18:00</div>
                    <div class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer" data-value="18:00 - 19:00">18:00 - 19:00</div>
                    <div class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer" data-value="19:00 - 20:00">19:00 - 20:00</div>
                  </div>
                </div>
              </div>

              <!-- Action Buttons -->
              <div class="flex justify-center gap-4">
                <button id="edit-cancel-btn" class="w-[180px] bg-[#FFFFFF] border-2 border-[#9FD3C7] px-4 py-2 rounded hover:bg-[#9FD3C7] transition">Cancel</button>
                <button id="update-btn"class="w-[180px] bg-[#9FD3C7] text-[#000000] px-4 py-2 rounded hover:bg-[#57998A] hover:text-white">Update</button>
              </div>
            </div>
          </div><!-- Modal Edit Schedule End -->

          <!-- Modal Konfirmasi Delete -->
          <div id="confirmModal" class="fixed inset-0 hidden bg-[#000000] bg-opacity-50 flex items-center justify-center z-50">
            <div class="bg-white p-6 rounded-lg shadow-md text-center max-w-sm w-full">
              <h2 class="mb-4 text-xl font-semibold">Delete Schedule</h2>
              <p class="mb-3">Are you sure you want to delete this schedule?</p>
              <div class="flex justify-center gap-4">
                <button id="confirmNo" class="w-[140px] bg-[#FFFFFF] border-2 border-[#9FD3C7] px-4 py-2 rounded hover:bg-[#9FD3C7] transition">No</button>
                <button id="confirmYes" class="w-[140px] bg-[#9FD3C7] text-[#000000] px-4 py-2 rounded hover:bg-[#57998A] hover:text-white">Yes</button>
              </div>
            </div>
          </div><!-- Modal Konfirmasi Delete End-->

        </div><!-- My Schedule & Edit Button End -->

        <!-- Tabel Jadwal -->
        <section class="max-h-[480px] overflow-y-auto scroll-container rounded-xl overflow-hidden bg-white">
          <table class="w-full rounded-lg" style="table-layout: fixed">
            <thead class="">
              <tr>
                <th class="z-10 text-[#94a3b8] font-normal text-[14px] py-2 px-1 rounded-tl-lg select-none" style="width: 3.5%; height: 40px"></th>
                <th class="sticky top-0 z-10 bg-[#FFE4E6] text-[#1F2A44] font-extrabold text-[20px] py-2 px-3 border-r border-[#E0E0E0] select-none text-center" style="width: 9.5%">SUN</th>
                <th class="sticky top-0 z-10 bg-[#FFFFFF] text-[#1F2A44] font-extrabold text-[20px] py-2 px-3 border-r border-[#E0E0E0] select-none text-center sticky" style="width: 9.5%">MON</th>
                <th class="sticky top-0 z-10 bg-[#FFFFFF] text-[#1F2A44] font-extrabold text-[20px] py-2 px-3 border-r border-[#E0E0E0] select-none text-center" style="width: 9.5%">TUE</th>
                <th class="sticky top-0 z-10 bg-[#FFFFFF] text-[#1F2A44] font-extrabold text-[20px] py-2 px-3 border-r border-[#E0E0E0] select-none text-center" style="width: 9.5%">WED</th>
                <th class="sticky top-0 z-10 bg-[#FFFFFF] bg-blue-50 text-[#1F2A44] font-extrabold text-[20px] py-2 px-3 border-r border-[#E0E0E0] select-none text-center" style="width: 9.5%">THU</th>
                <th class="sticky top-0 z-10 bg-[#FFFFFF] text-[#1F2A44] font-extrabold text-[20px] py-2 px-3 border-r border-[#E0E0E0] select-none text-center" style="width: 9.5%">FRI</th>
                <th class="sticky top-0 z-10 bg-[#FFFFFF] bg-gray-100 text-[#1F2A44] font-extrabold text-[20px] py-2 px-3 select-none text-center" style="width: 9.5%">SAT</th>
                <th class="bg-gray-100 text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none" style="width: 3%"></th>
              </tr>
            </thead>

            <!-- Isi -->
            <tbody>
              <!-- 08:00 row -->
              <tr class=" border-[#E0E0E0] relative">
                <th class="relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">08:00</span>
                </th>
                <td class="border-t border-r border-[#E0E0E0] bg-[#FFE4E6] "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0] bg-blue-50 "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-[#E0E0E0] bg-gray-100 "></td>
                <th class="bg-gray-100 relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">08:00</span>
                </th>
              </tr>
              <!-- 09:00 row -->
              <tr class=" border-[#E0E0E0] relative">
                <th class="relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">09:00</span>
                </th>
                <td class="border-t border-r border-[#E0E0E0] bg-[#FFE4E6] "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0] bg-blue-50 "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-[#E0E0E0] bg-gray-100 "></td>
                <th class="bg-gray-100 relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">09:00</span>
                </th>
              </tr>

              <!-- 10:00 row -->
              <tr class=" border-[#E0E0E0] relative">
                <th class="relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">10:00</span>
                </th>
                <td class="border-t border-r border-[#E0E0E0] bg-[#FFE4E6] "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0] bg-blue-50 "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-[#E0E0E0] bg-gray-100 "></td>
                <th class="bg-gray-100 relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">10:00</span>
                </th>
              </tr>

              <!-- 11:00 row -->
              <tr class=" border-[#E0E0E0] relative">
                <th class="relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">11:00</span>
                </th>
                <td class="border-t border-r border-[#E0E0E0] bg-[#FFE4E6] "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0] bg-blue-50 "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-[#E0E0E0] bg-gray-100 "></td>
                <th class="bg-gray-100 relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">11:00</span>
                </th>
              </tr>

              <!-- 12:00 row -->
              <tr class=" border-[#E0E0E0] relative">
                <th class="relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">12:00</span>
                </th>
                <td class="border-t border-r border-[#E0E0E0] bg-[#FFE4E6] "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0] bg-blue-50 "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-[#E0E0E0] bg-gray-100 "></td>
                <th class="bg-gray-100 relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">12:00</span>
                </th>
              </tr>

              <!-- 13:00 row -->
              <tr class=" border-[#E0E0E0] relative">
                <th class="relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">13:00</span>
                </th>
                <td class="border-t border-r border-[#E0E0E0] bg-[#FFE4E6] "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0] bg-blue-50 "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-[#E0E0E0] bg-gray-100 "></td>
                <th class="bg-gray-100 relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">13:00</span>
                </th>
              </tr>

              <!-- 14:00 row -->
              <tr class=" border-[#E0E0E0] relative">
                <th class="relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">14:00</span>
                </th>
                <td class="border-t border-r border-[#E0E0E0] bg-[#FFE4E6] "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0] bg-blue-50 "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-[#E0E0E0] bg-gray-100 "></td>
                <th class="bg-gray-100 relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">14:00</span>
                </th>
              </tr>

              <!-- 15:00 row -->
              <tr class=" border-[#E0E0E0] relative">
                <th class="relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">15:00</span>
                </th>
                <td class="border-t border-r border-[#E0E0E0] bg-[#FFE4E6] "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0] bg-blue-50 "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-[#E0E0E0] bg-gray-100 "></td>
                <th class="bg-gray-100 relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">15:00</span>
                </th>
              </tr>

              <!-- 16:00 row -->
              <tr class=" border-[#E0E0E0] relative">
                <th class="relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">16:00</span>
                </th>
                <td class="border-t border-r border-[#E0E0E0] bg-[#FFE4E6] "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0] bg-blue-50 "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-[#E0E0E0] bg-gray-100 "></td>
                <th class="bg-gray-100 relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">16:00</span>
                </th>
              </tr>

              <!-- 17:00 row -->
              <tr class=" border-[#E0E0E0] relative">
                <th class="relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">17:00</span>
                </th>
                <td class="border-t border-r border-[#E0E0E0] bg-[#FFE4E6] "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0] bg-blue-50 "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-[#E0E0E0] bg-gray-100 "></td>
                <th class="bg-gray-100 relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">17:00</span>
                </th>
              </tr>

              <!-- 18:00 row -->
              <tr class=" border-[#E0E0E0] relative">
                <th class="relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">18:00</span>
                </th>
                <td class="border-t border-r border-[#E0E0E0] bg-[#FFE4E6] "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0] bg-blue-50 "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-[#E0E0E0] bg-gray-100 "></td>
                <th class="bg-gray-100 relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">18:00</span>
                </th>
              </tr>

              <!-- 19:00 row -->
              <tr class=" border-[#E0E0E0] relative">
                <th class="relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">19:00</span>
                </th>
                <td class="border-t border-r border-[#E0E0E0] bg-[#FFE4E6] "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0] bg-blue-50 "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-[#E0E0E0] bg-gray-100 "></td>
                <th class="bg-gray-100 relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">19:00</span>
                </th>
              </tr>

              <!-- 20:00 row -->
              <tr class=" border-[#E0E0E0] relative">
                <th class="relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">20:00</span>
                </th>
                <td class="border-t border-r border-[#E0E0E0] bg-[#FFE4E6] "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-r border-[#E0E0E0] bg-blue-50 "></td>
                <td class="border-t border-r border-[#E0E0E0]"></td>
                <td class="border-t border-[#E0E0E0] bg-gray-100 "></td>
                <th class="bg-gray-100 relative w-[3.5%] px-1" style="height: 60px">
                  <span class="absolute top-[-9px] left-1/2 -translate-x-1/2 text-[#94a3b8] font-normal text-[12px] select-none">20:00</span>
                </th>
              </tr>
            </tbody>
          </table><!-- Kolom jam kanan -->
        </section><!-- Tabel Jadwal End -->

        <!-- Modal logout -->
        <div
          id="confirmLogout"
          class="fixed inset-0 hidden bg-[#000000] bg-opacity-50 flex items-center justify-center z-50"
        >
          <div
            class="bg-white p-6 rounded-lg shadow-md text-center max-w-sm w-full"
          >
            <h2 class="mb-4 text-xl font-semibold">Logout</h2>
            <p class="mb-3">Are you sure you want to log out?</p>
            <div class="flex justify-center gap-4">
              <button
                id="confirmNoLogout"
                class="w-[140px] bg-[#FFFFFF] border-2 border-[#9FD3C7] px-4 py-2 rounded hover:bg-[#9FD3C7] transition"
              >
                No
              </button>
              <button
                id="confirmYesLogout"
                class="w-[140px] bg-[#9FD3C7] text-[#000000] px-4 py-2 rounded hover:bg-[#57998A] hover:text-white"
              >
                Yes
              </button>
            </div>
          </div>
        </div>

        <script>
          let existingSchedule = [];
        
          // Ambil semua jadwal saat halaman pertama kali dimuat
          document.addEventListener("DOMContentLoaded", () => {
            fetch("/api/my_schedule")
              .then((response) => response.json())
              .then((data) => {
                existingSchedule = data;
                renderSchedule(data); // render semua jadwal ke tabel
                enableEditListeners();
              })
              .catch((err) => {
                console.error("Error fetching schedule:", err);
              });
          });
        
          // Fungsi render jadwal ke tabel
          function renderSchedule(data) {
            const pastelColors = [
              "rgba(16, 185, 129, 0.1)", // emerald
              "rgba(14, 165, 233, 0.1)", // sky blue
              "rgba(139, 92, 246, 0.1)", // violet
              "rgba(245, 158, 11, 0.1)", // amber
            ];
        
            function getRandomPastelColor() {
              return pastelColors[Math.floor(Math.random() * pastelColors.length)];
            }
        
            function normalizeTime(rawTime) {
              const parts = rawTime.split(":");
              const hour = parts[0].padStart(2, "0");
              return `${hour}:00`;
            }
        
            data.forEach((schedule) => {
              let { day, time, student_name } = schedule;
              time = normalizeTime(time);
        
              const columnIndex = {
                Sunday: 1, Monday: 2, Tuesday: 3, Wednesday: 4,
                Thursday: 5, Friday: 6, Saturday: 7,
              }[day];
        
              const rowIndex = {
                "08:00": 1, "09:00": 2, "10:00": 3, "11:00": 4,
                "12:00": 5, "13:00": 6, "14:00": 7, "15:00": 8,
                "16:00": 9, "17:00": 10, "18:00": 11, "19:00": 12,
                "20:00": 13,
              }[time];
        
              if (!columnIndex || !rowIndex) return;
        
              const table = document.querySelector("table");
              const row = table.querySelectorAll("tbody tr")[rowIndex - 1];
              if (!row) return;
        
              const cell = row.querySelectorAll("td")[columnIndex - 1];
              if (!cell) return;
        
              const bgColor = getRandomPastelColor();
              cell.innerHTML = `
              
                <div class="p-2 mt-1 ms-1 schedule-card" data-id="${schedule.schedule_id}" data-student="${schedule.student_id}" data-day="${day}" data-time="${parseInt(time)}" " style="
                  position: absolute;
                  top: 0;
                  left: 4px;
                  width: 90%;
                  height: calc(2 * 27px); 
                  background-color: ${bgColor};
                  border-radius: 6px;
                  color: #065F46;
                  padding: 6px;
                  font-size: 12px;
                  z-index: 5;
                  overflow: hidden;
                ">
                  <div style="margin-bottom: 4px; font-weight: 500;">
                    ${time} - ${parseInt(time) + 1}:00
                  </div>
                  <div style="font-size: 14px; font-weight: 600;">
                    ðŸ‘§ ${student_name ? student_name : "-"}
                  </div>
                </div>
              `;
              cell.style.position = "relative";
            });
          }
        
          // Dropdown Day & Time
          const buttonDay = document.getElementById("dropdownButtonDay");
          const menuDay = document.getElementById("dropdownMenuDay");
          const selectedDaySpan = document.getElementById("selectedDay");
        
          buttonDay.addEventListener("click", () => {
            menuDay.classList.toggle("hidden");
          });
        
          menuDay.querySelectorAll("div[data-value]").forEach((item) => {
            item.addEventListener("click", () => {
              selectedDaySpan.textContent = item.getAttribute("data-value");
              menuDay.classList.add("hidden");
            });
          });
        
          const buttonTime = document.getElementById("dropdownButtonTime");
          const menuTime = document.getElementById("dropdownMenuTime");
          const selectedTimeSpan = document.getElementById("selectedTime");
        
          buttonTime.addEventListener("click", () => {
            menuTime.classList.toggle("hidden");
          });
        
          menuTime.querySelectorAll("div[data-value]").forEach((item) => {
            item.addEventListener("click", () => {
              selectedTimeSpan.textContent = item.getAttribute("data-value");
              menuTime.classList.add("hidden");
            });
          });
        
          // Tutup dropdown kalau klik di luar
          document.addEventListener("click", (e) => {
            if (!buttonDay.contains(e.target) && !menuDay.contains(e.target)) {
              menuDay.classList.add("hidden");
            }
            if (!buttonTime.contains(e.target) && !menuTime.contains(e.target)) {
              menuTime.classList.add("hidden");
            }
          });
        
          // Modal logic
          const addScheduleBtn = document.getElementById("add-Btn");
          const modal = document.getElementById("add-Modal");
          const cancelBtn = document.getElementById("cancel-btn");
          const saveBtn = document.getElementById("save-btn");
        
          addScheduleBtn.addEventListener("click", () => {
            modal.classList.remove("hidden");
          });
        
          cancelBtn.addEventListener("click", () => {
            modal.classList.add("hidden");
            selectedDaySpan.textContent = "Select a day";
            selectedTimeSpan.textContent = "Select a time";
          });
          
          saveBtn.addEventListener("click", () => {
            const selectedDay = selectedDaySpan.textContent.trim();
            const selectedTimeRange = selectedTimeSpan.textContent.trim();
          
            if (selectedDay === "Select a day" || selectedTimeRange === "Select a time") {
              alert("â— Silakan pilih hari dan jam terlebih dahulu.");
              return;
            }
          
            // Validasi format waktu
            if (!selectedTimeRange.includes(" - ")) {
              alert("â— Format waktu tidak valid. Harus seperti '08:00 - 09:00'");
              return;
            }
          
            const [selectedStart, selectedEnd] = selectedTimeRange.split(" - ").map((t) => t.trim());
          
            function timeToMinutes(timeStr) {
              const [hour, minute] = timeStr.split(":").map(Number);
              return hour * 60 + minute;
            }
          
            function isTimeOverlap(start1, end1, start2, end2) {
              return !(end1 <= start2 || end2 <= start1);
            }
            
          
            const selectedStartMin = timeToMinutes(selectedStart);
            const selectedEndMin = timeToMinutes(selectedEnd);
          
            const isConflict = existingSchedule.some((s) => {
              const existingStartMin = timeToMinutes(s.time);
              const existingEndMin = existingStartMin + 60; // jaraknya dibuat 2 jam. jd biar bisa nambah di jam stlhnya, biar ga bentrok. nek +60 nnti di jam bentrok mlh msih bs nambah
          
              return s.day === selectedDay && isTimeOverlap(
                selectedStartMin, selectedEndMin,
                existingStartMin, existingEndMin
              );
            });
          
            if (isConflict) {
              showStatus("Schedule conflict! Please choose another time.", "/assets/error.png");
              return;
            }
          
            // Kirim waktu mulai saja ke server
            fetch("/api/my_schedule", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({
                day: selectedDay,
                time: selectedStart,
              }),
            })
              .then((response) => {
                if (!response.ok) throw new Error("Gagal menyimpan");
                return response.json();
              })
              .then(() => {
                sessionStorage.setItem("statusMessage", "Schedule added successfully!");
                sessionStorage.setItem("statusImage", "/assets/success.png");
                window.location.reload();
              })
              .catch((error) => {
                console.error("Error adding schedule:", error);
                showStatus("Failed updating schedule.", "/assets/error.png");
              });
          });
                    
          // Tambahan logika edit jadwal (frontend)

          let isEditMode = false;
          const editScheduleBtn = document.getElementById("edit-Btn");
          const editModal = document.getElementById("editModal");
          const editDaySpan = document.getElementById("editSelectedDay");
          const editTimeSpan = document.getElementById("editSelectedTime");
          const editUpdateBtn = document.getElementById("update-btn");
          const editCloseBtn = document.getElementById("edit-cancel-btn");

          editScheduleBtn.addEventListener("click", (e) => {
            e.preventDefault();
            isEditMode = !isEditMode;

            // Jika edit diaktifkan, nonaktifkan mode delete
            if (isEditMode && isDeleteMode) {
              isDeleteMode = false;

              deleteScheduleBtn.querySelector("button").classList.remove("bg-[#E2B0B5]", "hover:bg-[#FFE4E6]");
              deleteScheduleBtn.querySelector("button").classList.add("bg-[#FFE4E6]", "hover:bg-[#E2B0B5]");
              deleteScheduleBtn.querySelector("button").innerHTML = `<i class="bi bi-trash3-fill mr-2"></i>Delete Schedule`;

              document.querySelectorAll(".schedule-card").forEach((card) => {
                card.classList.remove("deletable-card");
              });
            }

            if (isEditMode) {
              // Mode Edit Aktif
              editScheduleBtn.classList.remove("bg-[#FFF7D4]", "hover:bg-[#E6D99F]");
              editScheduleBtn.classList.add("bg-[#E6D99F]", "hover:bg-[#FFF7D4]");
              editScheduleBtn.innerHTML = '<i class="bi bi-x-circle mr-2"></i>Close Edit';

              document.querySelectorAll(".schedule-card").forEach((card) => {
                card.classList.add("editable-card");
              });
            } else {
              // Mode Edit Tidak Aktif (kembali normal)
              editScheduleBtn.classList.remove("bg-[#E6D99F]", "hover:bg-[#FFF7D4]");
              editScheduleBtn.classList.add("bg-[#FFF7D4]", "hover:bg-[#E6D99F]");
              editScheduleBtn.innerHTML = '<i class="bi bi-pencil-square mr-2"></i>Edit Schedule';

              document.querySelectorAll(".schedule-card").forEach((card) => {
                card.classList.remove("editable-card");
              });
            }
          });

          function enableEditListeners() {
            document.querySelectorAll(".schedule-card").forEach((card) => {
              card.addEventListener("click", () => {
                const studentId = card.getAttribute("data-student");
                const scheduleId = card.getAttribute("data-id");

                if (isEditMode) {
                  // EDIT
                  if (studentId !== "null" && studentId !== null) {
                    showStatus("This schedule already has a student. Please remove the student first before editing.", "/assets/error.png");
                    return;
                  }

                  editModal.setAttribute("data-id", scheduleId);
                  editModal.classList.remove("hidden");

                  const day = card.getAttribute("data-day");
                  const timeStart = card.getAttribute("data-time") + ":00";
                  const timeEnd = (parseInt(card.getAttribute("data-time")) + 1).toString().padStart(2, "0") + ":00";
                  const timeRange = `${timeStart} - ${timeEnd}`;

                  editDaySpan.textContent = day;
                  editTimeSpan.textContent = timeRange;
                }

                if (isDeleteMode) {
                  if (studentId !== "null" && studentId !== null) {
                    showStatus("This schedule already has a student. Please remove the student first before editing.", "/assets/error.png");
                    return;
                  }

                  scheduleIdToDelete = scheduleId;
                  confirmModal.classList.remove("hidden");
                }
              });
            });
          }


          document.querySelectorAll("#editDropdownMenuDay div[data-value]").forEach((item) => {
            item.addEventListener("click", () => {
              editDaySpan.textContent = item.getAttribute("data-value");
              document.getElementById("editDropdownMenuDay").classList.add("hidden");
            });
          });

          document.querySelectorAll("#editDropdownMenuTime div[data-value]").forEach((item) => {
            item.addEventListener("click", () => {
              editTimeSpan.textContent = item.getAttribute("data-value");
              document.getElementById("editDropdownMenuTime").classList.add("hidden");
            });
          });

          document.getElementById("editDropdownButtonDay").addEventListener("click", () => {
            document.getElementById("editDropdownMenuDay").classList.toggle("hidden");
          });

          document.getElementById("editDropdownButtonTime").addEventListener("click", () => {
            document.getElementById("editDropdownMenuTime").classList.toggle("hidden");
          });

          document.addEventListener("click", (e) => {
            const dayBtn = document.getElementById("editDropdownButtonDay");
            const timeBtn = document.getElementById("editDropdownButtonTime");
            const dayMenu = document.getElementById("editDropdownMenuDay");
            const timeMenu = document.getElementById("editDropdownMenuTime");

            if (!dayBtn.contains(e.target) && !dayMenu.contains(e.target)) {
              dayMenu.classList.add("hidden");
            }
            if (!timeBtn.contains(e.target) && !timeMenu.contains(e.target)) {
              timeMenu.classList.add("hidden");
            }
          });

          editUpdateBtn.addEventListener("click", () => {
            const scheduleId = editModal.getAttribute("data-id");
            const newDay = editDaySpan.textContent.trim();
            const newTime = editTimeSpan.textContent.split(" - ")[0].trim();

            function timeToMinutes(timeStr) {
              const [hour, minute] = timeStr.split(":" ).map(Number);
              return hour * 60 + minute;
            }

            function isTimeOverlap(start1, end1, start2, end2) {
              return !(end1 <= start2 || end2 <= start1);
            }

            const selectedStartMin = timeToMinutes(newTime);
            const selectedEndMin = selectedStartMin + 60;

            const isConflict = existingSchedule.some((s) => {
              const existingStartMin = timeToMinutes(s.time);
              const existingEndMin = existingStartMin + 60;

              return s.day === newDay && isTimeOverlap(
                selectedStartMin,
                selectedEndMin,
                existingStartMin,
                existingEndMin
              ) && s.schedule_id != scheduleId;
            });

            if (isConflict) {
              showStatus("Schedule conflict! Please choose another time.", "/assets/error.png");
              return;
            }

            fetch(`/api/my_schedule/${scheduleId}`, {
              method: "PUT",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ day: newDay, time: newTime, student_id: null })
            })
              .then(res => {
                if (!res.ok) throw new Error("Gagal update jadwal");
                return res.json();
              })
              .then(() => {
                sessionStorage.setItem("statusMessage", "Schedule updated successfully!");
                sessionStorage.setItem("statusImage", "/assets/success.png");
                window.location.reload();
              })
              .catch(err => {
                console.error(err);
                showStatus("Failed updating schedule.", "/assets/error.png");
              });
          });

          editCloseBtn.addEventListener("click", () => {
            editModal.classList.add("hidden");
            editModal.removeAttribute("data-id");
            editDaySpan.textContent = "Select a day";
            editTimeSpan.textContent = "Select a time";
          });

          // Mode delete
          let isDeleteMode = false;
          const deleteScheduleBtn = document.getElementById("delete-Btn");
          const confirmModal = document.getElementById("confirmModal");
          const confirmYesBtn = document.getElementById("confirmYes");
          const confirmNoBtn = document.getElementById("confirmNo");
          let scheduleIdToDelete = null;

          deleteScheduleBtn.addEventListener("click", () => {
            isDeleteMode = !isDeleteMode;

            // Jika delete diaktifkan, nonaktifkan mode edit
            if (isDeleteMode && isEditMode) {
              isEditMode = false;

              editScheduleBtn.classList.remove("bg-[#E6D99F]", "hover:bg-[#FFF7D4]");
              editScheduleBtn.classList.add("bg-[#FFF7D4]", "hover:bg-[#E6D99F]");
              editScheduleBtn.innerHTML = '<i class="bi bi-pencil-square mr-2"></i>Edit Schedule';

              document.querySelectorAll(".schedule-card").forEach((card) => {
                card.classList.remove("editable-card");
              });
            }


            if (isDeleteMode) {
              deleteScheduleBtn.querySelector("button").classList.remove("bg-[#FFE4E6]", "hover:bg-[#E2B0B5]");
              deleteScheduleBtn.querySelector("button").classList.add("bg-[#E2B0B5]", "hover:bg-[#FFE4E6]");
              deleteScheduleBtn.querySelector("button").innerHTML = `<i class="bi bi-x-circle mr-2"></i>Cancel Delete`;

              document.querySelectorAll(".schedule-card").forEach((card) => {
                card.classList.add("deletable-card");
              });
            } else {
              deleteScheduleBtn.querySelector("button").classList.remove("bg-[#E2B0B5]", "hover:bg-[#FFE4E6]");
              deleteScheduleBtn.querySelector("button").classList.add("bg-[#FFE4E6]", "hover:bg-[#E2B0B5]");
              deleteScheduleBtn.querySelector("button").innerHTML = `<i class="bi bi-trash3-fill mr-2"></i>Delete Schedule`;

              document.querySelectorAll(".schedule-card").forEach((card) => {
                card.classList.remove("deletable-card");
              });
            }
          });

          confirmYesBtn.addEventListener("click", () => {
            if (!scheduleIdToDelete) return;

            fetch(`/api/my_schedule/${scheduleIdToDelete}`, {
              method: "DELETE",
            })
              .then((res) => {
                if (!res.ok) throw new Error("Gagal menghapus");
                return res.json();
              })
              .then(() => {
                sessionStorage.setItem("statusMessage", "Schedule deleted successfully!");
                sessionStorage.setItem("statusImage", "/assets/success.png");
                window.location.reload();
              })
              .catch((err) => {
                console.error(err);
                showStatus("Failed updating schedule.", "/assets/error.png");
              });
          });

          confirmNoBtn.addEventListener("click", () => {
            confirmModal.classList.add("hidden");
            scheduleIdToDelete = null;
          });  

          const logoutTrigger = document.getElementById('logoutTrigger');
          const confirmLogout = document.getElementById('confirmLogout');
          const confirmYesLogout = document.getElementById('confirmYesLogout');
          const confirmNoLogout = document.getElementById('confirmNoLogout');

          // Tampilkan modal saat klik "Log out"
          logoutTrigger.addEventListener('click', (e) => {
            e.preventDefault();
            confirmLogout.classList.remove('hidden');
          });

          // Klik "No" â†’ sembunyikan modal
          confirmNoLogout.addEventListener('click', () => {
            confirmLogout.classList.add('hidden');
          });

          // Klik "Yes" â†’ redirect ke logout
          confirmYesLogout.addEventListener('click', () => {
            window.location.href = "/logout"; // atau fetch POST kalau pakai method post
          });

           window.addEventListener("DOMContentLoaded", () => {
              const message = sessionStorage.getItem("statusMessage");
              const image = sessionStorage.getItem("statusImage");

              if (message && image) {
                showStatus(message, image);
                // Hapus setelah ditampilkan agar tidak muncul terus
                sessionStorage.removeItem("statusMessage");
                sessionStorage.removeItem("statusImage");
              }
            });
        </script>
         <script type="module">
        import { setupStatusModal, showStatus } from '/js/statusModal.js';
        setupStatusModal();
        window.showStatus = showStatus;
      </script>
      </main><!-- Main Content End -->
    </div><!-- KOTAKAN UTAMA SMUA -->

    <!-- JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>

<!-- CSS -->
<style>
  body {
    font-family: "Poppins", sans-serif;
  }

  #brandTitle {
    font-size: 30px;
  }

  .title {
    font-size: 18px;
    font-weight: 600;
    text-decoration: none; /* ini penting kalau pakai <a> */
  }

  .navbar-custom {
    background-color: #1f2a44;
    margin: 15px;
    border-radius: 15px;
    font-weight: bolder;
    letter-spacing: 0.5px;
  }

  .scroll-container {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scroll-container::-webkit-scrollbar {
    display: none;
  }

  .scroll-container {
    cursor: grab;
  }

  .scroll-container:active {
    cursor: grabbing;
  }

  .editable-card {
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    cursor: pointer;
    transition: box-shadow 0.3s ease;
  }

  .deletable-card {
    box-shadow: 0 0 0 2px rgb(235, 145, 145);
    cursor: pointer;
    transition: box-shadow 0.3s ease;
  }
  
  
</style>
