<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Schedule</title>

    <!-- Tailwind CSS-->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />

    <!-- BS + BS Icons -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
      rel="stylesheet"
    />
  </head>

  <body class="bg-[#F9FAFB] min-h-screen p-4">
    <div class="max-w-[1600px] mx-auto flex flex-col md:flex-row gap-10">
      <!-- KOTAKAN UTAMA SMUA -->
      <!-- Sidebar Start -->
      <nav
        class="bg-[#1F2A44] rounded-xl w-full md:w-60 flex flex-col justify-between p-6 text-[#a3c0d9] h-[calc(100vh-3rem)]"
      >
        <!-- Nav Atas Start-->
        <!-- LOGO -->
        <div>
          <a
            id="brandTitle"
            class="text-white d-block font-extrabold text-lg mb-4 mt-2 text-center"
            href=""
          >
            <span>EverGreen</span>
          </a>

          <hr class="border-[#ffffff] mb-5" />

          <nav class="flex flex-col gap-5 text-sm">
            <a
              class="flex items-center gap-3 text-[#ffffff] hover:text-[#9FD3C7] transition-colors"
              href="/dashboard/teacher"
            >
              <i class="bi bi-grid-1x2"></i>
              <span class="title">Dashboard</span>
            </a>

            <a class="flex items-center gap-3 text-[#9FD3C7]" href="">
              <i class="bi bi-calendar3"></i>
              <span class="title">Schedules</span>
            </a>

            <a
              class="flex items-center gap-3 text-[#ffffff] hover:text-[#9FD3C7] transition-colors"
              href="/teacher/students"
            >
              <i class="bi bi-people"></i>
              <span class="title">Students</span>
            </a>

            <a
              class="flex items-center gap-3 text-[#ffffff] hover:text-[#9FD3C7] transition-colors"
              href="/topicTeacher"
            >
              <i class="bi bi-question-circle"></i>
              <span class="title">Quizzes</span>
            </a>

            <a
              class="flex items-center gap-3 text-[#ffffff] hover:text-[#9FD3C7] transition-colors"
              href="/payment"
            >
              <i class="bi bi-credit-card-2-back"></i>
              <span class="title">Payment History</span>
            </a>
          </nav>
        </div>
        <!-- Nav Atas End-->

        <div>
          <!-- Nav Bawah Start-->
          <hr class="border-[#ffffff] mb-6" />
          <nav class="flex flex-col gap-5 text-sm font-semibold text-[#a3c0d9]">
            <a
              class="flex items-center gap-3 text-[#ffffff] hover:text-[#9FD3C7] transition-colors"
              href="#"
              ><i class="bi bi-person-circle"></i
              ><span class="title">Profile</span></a
            >

            <a
              class="flex items-center gap-3 text-[#ffffff] hover:text-[#9FD3C7] transition-colors"
              href="#"
              ><i class="bi bi-box-arrow-right"></i
              ><span class="title">Log out</span></a
            >
          </nav>
        </div>
        <!-- Nav bawah End-->
      </nav>
      <!-- Sidebar End -->

      <!-- Main Content Start -->
      <main class="flex-1 flex flex-col gap-6 pt-8 pr-7">
        <!-- Main Judul -->
        <section>
          <h2 class="text-3xl font-extrabold text-[#111827] mb-1">Schedules</h2>
          <p class="text-sm text-[#6b7280]">
            Create and manage your schedules and students.
          </p>
        </section>

        <!-- Navigasi All Schedule & My Schedule -->
        <nav class="flex space-x-6 border-b border-gray-300 select-none">
          <a
            class="text-[#7D7B7B] font-normal pb-1 text-md"
            href="/all_schedule"
            >All schedule</a
          >
          <a
            aria-current="page"
            class="text-[#67998D] font-semibold border-b-2 border-[#67998D] pb-1 text-md"
            href="#"
            >My schedule</a
          >
        </nav>

        <!-- My Schedule & Edit Button -->
        <div class="flex justify-between items-start w-full">
          <div>
            <p class="font-semibold text-black text-lg select-none">
              My Schedule
            </p>
            <p class="text-sm text-[#6b7280]">
              See your teaching schedule with your assigned sessions.
            </p>
          </div>

          <!-- Button Action -->
          <div class="flex justify-between items-center gap-3">
            <a id="add-Btn">
              <button
                class="whitespace-nowrap text-[#FFFFFF] px-3 py-2 text-center bg-[#1F2A44] rounded-lg font-medium hover:bg-[#CED6ED] hover:text-[#000000] transition transition-all duration-300"
              >
                <i class="bi bi-plus-lg mr-2"></i>Add Schedule
              </button>
            </a>

            <a href="/booked_schedule" id="edit-Btn">
              <button
                class="whitespace-nowrap text-[#000000] px-3 py-2 text-center bg-[#FFF7D4] rounded-lg font-medium hover:bg-[#E6D99F] transition transition-all duration-300"
              >
                <i class="bi bi-pencil-square mr-2"></i>Edit Schedule
              </button>
            </a>

            <a href="/booked_schedule" id="delete-Btn">
              <button
                class="whitespace-nowrap text-[#000000] px-3 py-2 text-center bg-[#FFE4E6] rounded-lg font-medium hover:bg-[#E2B0B5] transition transition-all duration-300"
              >
                <i class="bi bi-trash3-fill mr-2"></i>Delete Schedule
              </button>
            </a>
          </div>
          <!-- Button Action End -->

          <!-- Pop Up Add Schedule -->
          <!-- Add Schedule Modal -->
          <div
            id="add-Modal"
            class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20"
          >
            <div
              class="bg-white p-8 rounded-2xl shadow-md text-center max-w-md w-full"
            >
              <h2 class="text-2xl mb-4 font-bold">Add Your Schedule</h2>

              <!-- Dropdown Day -->
              <div class="relative w-full mb-4">
                <p class="mb-1 text-left">Day</p>
                <button
                  id="dropdownButtonDay"
                  type="button"
                  class="inline-flex justify-between w-full rounded-md border border-gray-300 bg-white p-2 text-md text-black hover:bg-gray-50"
                >
                  <span id="selectedDay">Select a day</span>
                  <i class="bi bi-chevron-down font-bold ml-2"></i>
                </button>

                <div
                  id="dropdownMenuDay"
                  class="hidden absolute z-10 mt-2 w-full rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 text-left"
                >
                  <div class="py-1 text-sm text-gray-700">
                    <div
                      class="px-4 py-2 hover:bg-blue-100 cursor-pointer"
                      data-value="Sunday"
                    >
                      Sunday
                    </div>
                    <div
                      class="px-4 py-2 hover:bg-blue-100 cursor-pointer"
                      data-value="Monday"
                    >
                      Monday
                    </div>
                    <div
                      class="px-4 py-2 hover:bg-blue-100 cursor-pointer"
                      data-value="Tuesday"
                    >
                      Tuesday
                    </div>
                    <div
                      class="px-4 py-2 hover:bg-blue-100 cursor-pointer"
                      data-value="Wednesday"
                    >
                      Wednesday
                    </div>
                    <div
                      class="px-4 py-2 hover:bg-blue-100 cursor-pointer"
                      data-value="Thursday"
                    >
                      Thursday
                    </div>
                    <div
                      class="px-4 py-2 hover:bg-blue-100 cursor-pointer"
                      data-value="Friday"
                    >
                      Friday
                    </div>
                    <div
                      class="px-4 py-2 hover:bg-blue-100 cursor-pointer"
                      data-value="Saturday"
                    >
                      Saturday
                    </div>
                  </div>
                </div>
              </div>

              <!-- Dropdown Time -->
              <div class="relative w-full mb-4">
                <p class="mb-1 text-left">Time</p>
                <button
                  id="dropdownButtonTime"
                  type="button"
                  class="inline-flex justify-between w-full rounded-md border border-gray-300 bg-white p-2 text-md text-black hover:bg-gray-50"
                >
                  <span id="selectedTime">Select a time</span>
                  <i class="bi bi-chevron-down font-bold ml-2"></i>
                </button>

                <div
                  id="dropdownMenuTime"
                  class="hidden absolute z-10 mt-2 w-full rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 text-left"
                >
                  <div
                    class="py-1 text-sm text-gray-700 max-h-64 overflow-y-auto"
                  >
                    <div
                      class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer"
                      data-value="08:00 - 09:00"
                    >
                      08:00 - 09:00
                    </div>
                    <div
                      class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer"
                      data-value="09:00 - 10:00"
                    >
                      09:00 - 10:00
                    </div>
                    <div
                      class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer"
                      data-value="10:00 - 11:00"
                    >
                      10:00 - 11:00
                    </div>
                    <div
                      class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer"
                      data-value="11:00 - 12:00"
                    >
                      11:00 - 12:00
                    </div>
                    <div
                      class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer"
                      data-value="12:00 - 13:00"
                    >
                      12:00 - 13:00
                    </div>
                    <div
                      class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer"
                      data-value="13:00 - 14:00"
                    >
                      13:00 - 14:00
                    </div>
                    <div
                      class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer"
                      data-value="14:00 - 15:00"
                    >
                      14:00 - 15:00
                    </div>
                    <div
                      class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer"
                      data-value="15:00 - 16:00"
                    >
                      15:00 - 16:00
                    </div>
                    <div
                      class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer"
                      data-value="16:00 - 17:00"
                    >
                      16:00 - 17:00
                    </div>
                    <div
                      class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer"
                      data-value="17:00 - 18:00"
                    >
                      17:00 - 18:00
                    </div>
                    <div
                      class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer"
                      data-value="18:00 - 19:00"
                    >
                      18:00 - 19:00
                    </div>
                    <div
                      class="px-4 py-2 hover:bg-[#CDECE5] cursor-pointer"
                      data-value="19:00 - 20:00"
                    >
                      19:00 - 20:00
                    </div>
                  </div>
                </div>
              </div>

              <!-- Action Buttons -->
              <div class="flex justify-center gap-4">
                <button
                  id="cancel-btn"
                  class="w-[180px] bg-[#FFFFFF] border-2 border-[#9FD3C7] px-4 py-2 rounded hover:bg-[#9FD3C7] transition"
                >
                  Cancel
                </button>
                <button
                  id="save-btn"
                  class="w-[180px] bg-[#9FD3C7] text-[#000000] px-4 py-2 rounded hover:bg-[#57998A] hover:text-white"
                >
                  Save
                </button>
              </div>
            </div>
          </div>
          <!-- Pop Up Add End -->

          <!-- Script: Dropdown + Modal -->
          <script>
            // Day Dropdown
            const buttonDay = document.getElementById("dropdownButtonDay");
            const menuDay = document.getElementById("dropdownMenuDay");
            const selectedDaySpan = document.getElementById("selectedDay");

            buttonDay.addEventListener("click", () => {
              menuDay.classList.toggle("hidden");
            });

            menuDay.querySelectorAll("div[data-value]").forEach((item) => {
              item.addEventListener("click", () => {
                selectedDaySpan.textContent = item.getAttribute("data-value");
                menuDay.classList.add("hidden");
              });
            });

            // Time Dropdown
            const buttonTime = document.getElementById("dropdownButtonTime");
            const menuTime = document.getElementById("dropdownMenuTime");
            const selectedTimeSpan = document.getElementById("selectedTime");

            buttonTime.addEventListener("click", () => {
              menuTime.classList.toggle("hidden");
            });

            menuTime.querySelectorAll("div[data-value]").forEach((item) => {
              item.addEventListener("click", () => {
                selectedTimeSpan.textContent = item.getAttribute("data-value");
                menuTime.classList.add("hidden");
              });
            });

            // Close dropdowns when clicking outside
            document.addEventListener("click", (e) => {
              if (
                !buttonDay.contains(e.target) &&
                !menuDay.contains(e.target)
              ) {
                menuDay.classList.add("hidden");
              }
              if (
                !buttonTime.contains(e.target) &&
                !menuTime.contains(e.target)
              ) {
                menuTime.classList.add("hidden");
              }
            });

            // Modal logic
            const addScheduleBtn = document.getElementById("add-Btn");
            const modal = document.getElementById("add-Modal");
            const cancelBtn = document.getElementById("cancel-btn");
            const saveBtn = document.getElementById("save-btn");

            if (addScheduleBtn) {
              addScheduleBtn.addEventListener("click", () => {
                modal.classList.remove("hidden");
              });
            }

            cancelBtn.addEventListener("click", () => {
              modal.classList.add("hidden");
            });

            saveBtn.addEventListener("click", () => {
              const selectedDay = selectedDaySpan.textContent.trim();
              const selectedTime = selectedTimeSpan.textContent.trim();

              if (selectedDay === "Select a day") {
                alert("Please select a day.");
                return;
              } else if (selectedTime === "Select a time") {
                alert("Please select a time.");
                return;
              }
              console.log(
                `Saving schedule for ${selectedDay} at ${selectedTime}`
              );
              modal.classList.add("hidden");
            });
          </script>
        </div>
        <!-- My Schedule & Edit Button End -->

        <!-- Tabel Jadwal -->
        <section
          class="max-h-[480px] overflow-y-auto scroll-container rounded-xl overflow-hidden bg-white"
        >
          <table class="w-full rounded-lg" style="table-layout: fixed">
            <thead class="sticky top-0 z-10 bg-[#FFFFFF]">
              <tr>
                <th
                  class="text-[#94a3b8] font-normal text-[14px] py-2 px-1 rounded-tl-lg select-none"
                  style="width: 3.5%; height: 40px"
                ></th>
                <th
                  class="bg-[#FFE4E6] text-[#1F2A44] font-extrabold text-[20px] py-2 px-3 border-r border-[#E0E0E0] select-none text-center"
                  style="width: 9.5%"
                >
                  SUN
                </th>
                <th
                  class="text-[#1F2A44] font-extrabold text-[20px] py-2 px-3 border-r border-[#E0E0E0] select-none text-center sticky"
                  style="width: 9.5%"
                >
                  MON
                </th>
                <th
                  class="text-[#1F2A44] font-extrabold text-[20px] py-2 px-3 border-r border-[#E0E0E0] select-none text-center"
                  style="width: 9.5%"
                >
                  TUE
                </th>
                <th
                  class="text-[#1F2A44] font-extrabold text-[20px] py-2 px-3 border-r border-[#E0E0E0] select-none text-center"
                  style="width: 9.5%"
                >
                  WED
                </th>
                <th
                  class="bg-blue-50 text-[#1F2A44] font-extrabold text-[20px] py-2 px-3 border-r border-[#E0E0E0] select-none text-center"
                  style="width: 9.5%"
                >
                  THU
                </th>
                <th
                  class="text-[#1F2A44] font-extrabold text-[20px] py-2 px-3 border-r border-[#E0E0E0] select-none text-center"
                  style="width: 9.5%"
                >
                  FRI
                </th>
                <th
                  class="bg-gray-100 text-[#1F2A44] font-extrabold text-[20px] py-2 px-3 select-none text-center"
                  style="width: 9.5%"
                >
                  SAT
                </th>
                <th
                  class="bg-gray-100 text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none"
                  style="width: 3%"
                ></th>
              </tr>
            </thead>

            <!-- Isi -->
            <tbody>
              <!-- 08:00 row -->
              <tr class="border-t border-[#E0E0E0]">
                <th
                  class="text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none text-center"
                  style="height: 60px"
                >
                  08:00
                </th>
                <td class="bg-[#FFE4E6] border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-blue-50 border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-gray-100 border-[#E0E0E0]"></td>
                <td
                  class="bg-gray-100 text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none"
                >
                  08:00
                </td>
              </tr>

              <!-- 09:00 row -->
              <tr class="border-t border-[#E0E0E0] relative">
                <th
                  class="text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none text-center"
                  style="height: 60px"
                >
                  09:00
                </th>
                <td class="bg-[#FFE4E6] border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-blue-50 border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-gray-100 border-[#E0E0E0]"></td>
                <td
                  class="bg-gray-100 text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none"
                >
                  09:00
                </td>
              </tr>

              <!-- 10:00 row -->
              <tr class="border-t border-[#E0E0E0]">
                <th
                  class="text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none text-center"
                  style="height: 60px"
                >
                  10:00
                </th>
                <td class="bg-[#FFE4E6] border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-blue-50 border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-gray-100 border-[#E0E0E0]"></td>
                <td
                  class="bg-gray-100 text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none"
                >
                  10:00
                </td>
              </tr>

              <!-- 11:00 row -->
              <tr class="border-t border-[#E0E0E0]">
                <th
                  class="text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none text-center"
                  style="height: 60px"
                >
                  11:00
                </th>
                <td class="bg-[#FFE4E6] border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-blue-50 border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-gray-100 border-[#E0E0E0]"></td>
                <td
                  class="bg-gray-100 text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none"
                >
                  11:00
                </td>
              </tr>

              <!-- 12:00 row -->
              <tr class="border-t border-[#E0E0E0] relative">
                <th
                  class="text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none text-center"
                  style="height: 60px"
                >
                  12:00
                </th>
                <td class="bg-[#FFE4E6] border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-blue-50 border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-gray-100 border-[#E0E0E0]"></td>
                <td
                  class="bg-gray-100 text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none"
                >
                  12:00
                </td>
              </tr>

              <!-- 13:00 row -->
              <tr class="border-t border-[#E0E0E0] relative">
                <th
                  class="text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none text-center"
                  style="height: 60px"
                >
                  13:00
                </th>
                <td class="bg-[#FFE4E6] border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-blue-50 border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-gray-100 border-[#E0E0E0]"></td>
                <td
                  class="bg-gray-100 text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none"
                >
                  13:00
                </td>
              </tr>

              <!-- 14:00 row -->
              <tr class="border-t border-[#E0E0E0] relative">
                <th
                  class="text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none text-center"
                  style="height: 60px"
                >
                  14:00
                </th>
                <td class="bg-[#FFE4E6] border-r border-[#E0E0E0]"></td>

                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-blue-50 border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-gray-100 border-[#E0E0E0]"></td>
                <td
                  class="bg-gray-100 text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none"
                >
                  14:00
                </td>
              </tr>

              <!-- 15:00 row -->
              <tr class="border-t border-[#E0E0E0] relative">
                <th
                  class="text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none text-center"
                  style="height: 60px"
                >
                  15:00
                </th>
                <td class="bg-[#FFE4E6] border-r border-[#E0E0E0]"></td>

                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-blue-50 border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-gray-100 border-[#E0E0E0]"></td>
                <td
                  class="bg-gray-100 text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none"
                >
                  15:00
                </td>
              </tr>

              <!-- 16:00 row -->
              <tr class="border-t border-[#E0E0E0] relative">
                <th
                  class="text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none text-center"
                  style="height: 60px"
                >
                  16:00
                </th>
                <td class="bg-[#FFE4E6] border-r border-[#E0E0E0]"></td>

                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-blue-50 border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-gray-100 border-[#E0E0E0]"></td>
                <td
                  class="bg-gray-100 text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none"
                >
                  16:00
                </td>
              </tr>

              <!-- 17:00 row -->
              <tr class="border-t border-[#E0E0E0] relative">
                <th
                  class="text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none text-center"
                  style="height: 60px"
                >
                  17:00
                </th>
                <td class="bg-[#FFE4E6] border-r border-[#E0E0E0]"></td>

                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-blue-50 border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-gray-100 border-[#E0E0E0]"></td>
                <td
                  class="bg-gray-100 text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none"
                >
                  17:00
                </td>
              </tr>

              <!-- 18:00 row -->
              <tr class="border-t border-[#E0E0E0] relative">
                <th
                  class="text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none text-center"
                  style="height: 60px"
                >
                  18:00
                </th>
                <td class="bg-[#FFE4E6] border-r border-[#E0E0E0]"></td>

                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-blue-50 border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-gray-100 border-[#E0E0E0]"></td>
                <td
                  class="bg-gray-100 text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none"
                >
                  18:00
                </td>
              </tr>

              <!-- 19:00 row -->
              <tr class="border-t border-[#E0E0E0] relative">
                <th
                  class="text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none text-center"
                  style="height: 60px"
                >
                  19:00
                </th>
                <td class="bg-[#FFE4E6] border-r border-[#E0E0E0]"></td>

                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-blue-50 border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-gray-100 border-[#E0E0E0]"></td>
                <td
                  class="bg-gray-100 text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none"
                >
                  19:00
                </td>
              </tr>

              <!-- 20:00 row -->
              <tr class="border-t border-[#E0E0E0] relative">
                <th
                  class="text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none text-center"
                  style="height: 60px"
                >
                  20:00
                </th>
                <td class="bg-[#FFE4E6] border-r border-[#E0E0E0]"></td>

                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-blue-50 border-r border-[#E0E0E0]"></td>
                <td class="border-r border-[#E0E0E0]"></td>
                <td class="bg-gray-100 border-[#E0E0E0]"></td>
                <td
                  class="bg-gray-100 text-[#94a3b8] font-normal text-[12px] py-2 px-1 select-none"
                >
                  20:00
                </td>
              </tr>
            </tbody>
          </table>
        </section>
        <!-- Tabel Jadwal End -->

        <script>
          document.addEventListener("DOMContentLoaded", () => {
            fetch("/api/my_schedule")
              .then((response) => response.json())
              .then((data) => {
                const pastelColors = [
                  "rgba(16, 185, 129, 0.1)", // #10B981 - Emerald
                  "rgba(14, 165, 233, 0.1)", // #0EA5E9 - Sky Blue
                  "rgba(139, 92, 246, 0.1)", // #8B5CF6 - Violet
                  "rgba(245, 158, 11, 0.1)", // #F59E0B - Amber
                ];

                function getRandomPastelColor() {
                  return pastelColors[
                    Math.floor(Math.random() * pastelColors.length)
                  ];
                }

                function normalizeTime(rawTime) {
                  const parts = rawTime.split(":");
                  const hour = parts[0].padStart(2, "0");
                  return `${hour}:00`;
                }

                data.forEach((schedule) => {
                  let { day, time, student_name } = schedule;
                  time = normalizeTime(time);

                  const columnIndex = {
                    Sunday: 1,
                    Monday: 2,
                    Tuesday: 3,
                    Wednesday: 4,
                    Thursday: 5,
                    Friday: 6,
                    Saturday: 7,
                  }[day];

                  const rowIndex = {
                    "08:00": 1,
                    "09:00": 2,
                    "10:00": 3,
                    "11:00": 4,
                    "12:00": 5,
                    "13:00": 6,
                    "14:00": 7,
                    "15:00": 8,
                    "16:00": 9,
                    "17:00": 10,
                    "18:00": 11,
                    "19:00": 12,
                    "20:00": 13,
                  }[time];

                  if (!columnIndex || !rowIndex) {
                    console.warn(`â›” Jadwal tidak cocok: ${day} - ${time}`);
                    return;
                  }

                  const table = document.querySelector("table");
                  document.querySelectorAll("tbody tr").forEach((tr) => {
                    tr.style.overflow = "visible";
                    tr.style.position = "relative";
                  });

                  const rows = table.querySelectorAll("tbody tr");
                  const row = rows[rowIndex - 1];
                  if (!row) return;

                  const cells = row.querySelectorAll("td");
                  const cell = cells[columnIndex - 1];
                  if (!cell) return;

                  const bgColor = getRandomPastelColor();

                  cell.innerHTML = `
                    <div class="p-2 mt-1 ms-1" style="
                      position: absolute;
                      top: 0;
                      left: 4px;
                      width: 90%;
                      height: calc(2 * 56px);
                      background-color: ${bgColor};
                      border-radius: 6px;
                      color: #065F46;
                      padding: 6px;
                      font-size: 12px;
                      z-index: 5; <!-- biar card ga nabrak thead -->
                      overflow: hidden;
                    ">
                      <div style="margin-bottom: 4px; font-weight: 500;">
                        ${time} - ${parseInt(time) + 1}:00
                      </div>
                      <div style="font-size: 14px; font-weight: 600;">
                        ðŸ‘§ ${student_name ? student_name : "-"}
                      </div>

                    </div>
                  `;

                  cell.style.position = "relative";
                });
              })
              .catch((err) => {
                console.error("Error fetching schedule:", err);
              });
          });
        </script>
      </main>
      <!-- Main Content End -->
    </div>
    <!-- KOTAKAN UTAMA SMUA -->

    <!-- JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>

<!-- CSS -->
<style>
  body {
    font-family: "Poppins", sans-serif;
  }

  #brandTitle {
    font-size: 30px;
  }

  .title {
    font-size: 18px;
    font-weight: 600;
    text-decoration: none; /* ini penting kalau pakai <a> */
  }

  .navbar-custom {
    background-color: #1f2a44;
    margin: 15px;
    border-radius: 15px;
    font-weight: bolder;
    letter-spacing: 0.5px;
  }

  .scroll-container {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scroll-container::-webkit-scrollbar {
    display: none;
  }

  .scroll-container {
    cursor: grab;
  }

  .scroll-container:active {
    cursor: grabbing;
  }
</style>
